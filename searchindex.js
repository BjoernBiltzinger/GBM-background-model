Search.setIndex({"docnames": ["index", "notebooks/gbm", "notebooks/general", "notebooks/new_sat"], "filenames": ["index.rst", "notebooks/gbm.ipynb", "notebooks/general.ipynb", "notebooks/new_sat.ipynb"], "titles": ["Welcome to gbmbkgpy\u2019s documentation!", "Setup for GBM", "Data", "Apply to other satellites"], "terms": {"i": [0, 1, 2, 3], "simul": 0, "fit": [0, 1], "softwar": 0, "time": [0, 1, 2, 3], "depend": 0, "background": [0, 2], "seen": 0, "fermi": [0, 1, 2, 3], "gbm": [0, 2, 3], "due": [0, 1, 2], "an": [0, 1], "extens": [0, 2], "rewrit": 0, "current": [0, 2], "state": 0, "unstabl": 0, "all": [0, 2, 3], "core": [0, 1, 2, 3], "function": [0, 1, 2, 3], "should": 0, "restor": 0, "case": [0, 2], "you": [0, 3], "encount": 0, "bug": 0, "weird": 0, "result": [0, 2, 3], "pleas": [0, 1, 2, 3], "report": 0, "them": [0, 3], "github": 0, "The": [0, 1, 2, 3], "made": 0, "code": [0, 2], "wai": [0, 2], "more": [0, 1, 2, 3], "gener": [0, 1, 2], "allow": 0, "its": 0, "also": [0, 2, 3], "us": [0, 1, 2, 3], "other": 0, "experi": [0, 3], "1": [1, 2, 3], "matplotlib": [1, 2, 3], "inlin": [1, 2, 3], "numpi": [1, 2, 3], "np": [1, 2, 3], "pyplot": [1, 2, 3], "plt": [1, 2, 3], "from": [1, 2, 3], "jupyterthem": [1, 2, 3], "jtplot": [1, 2, 3], "style": [1, 2, 3], "context": [1, 2, 3], "notebook": [1, 2, 3], "fscale": [1, 2, 3], "grid": [1, 2, 3], "fals": [1, 2, 3], "astromodel": [1, 2, 3], "powerlaw": [1, 2, 3], "exponential_cutoff": [1, 2, 3], "constant": [1, 2, 3], "band": [1, 3], "util": [1, 2, 3], "configur": [1, 2, 3], "astromodels_config": [1, 2, 3], "ignore_parameter_bound": [1, 2, 3], "true": [1, 2, 3], "gbmbkgpy": [1, 2, 3], "new_astromodel": [1, 2, 3], "sbpl": [1, 2, 3], "gbm_data": [1, 2], "gbmdata": [1, 2], "gbm_geometri": [1, 2], "gbmgeometryposhist": [1, 2], "gbm_respons": [1, 2], "gbmresponsegener": [1, 2], "response_precalcul": [1, 2, 3], "responseprecalcul": [1, 2, 3], "src_respons": [1, 2, 3], "earthrespons": [1, 2, 3], "cgbrespons": [1, 2, 3], "galacticcenterrespons": [1, 2, 3], "pointsourcerespons": [1, 2, 3], "photonsourcefix": [1, 2, 3], "saasourc": [1, 2, 3], "normonlysourc": [1, 2, 3], "astromodelfunctionvector": [1, 2, 3], "modeldet": [1, 2, 3], "io": [1, 2, 3], "plot_lightcurv": [1, 2, 3], "opt": [1, 2, 3], "hostedtoolcach": [1, 2, 3], "python": [1, 2, 3], "3": [1, 2, 3], "9": [1, 2, 3], "16": [1, 2, 3], "x64": [1, 2, 3], "lib": [1, 2, 3], "python3": [1, 2, 3], "site": [1, 2, 3], "packag": [1, 2, 3], "numba": [1, 2, 3], "decor": [1, 2, 3], "py": [1, 2, 3], "262": [1, 2, 3], "numbadeprecationwarn": [1, 2, 3], "generated_jit": [1, 2, 3], "deprec": [1, 2, 3], "see": [1, 2, 3], "document": [1, 2, 3], "http": [1, 2, 3], "readthedoc": [1, 2, 3], "en": [1, 2, 3], "stabl": [1, 2, 3], "refer": [1, 2, 3], "html": [1, 2, 3], "jit": [1, 2, 3], "inform": [1, 2, 3], "advic": [1, 2, 3], "suitabl": [1, 2, 3], "replac": [1, 2, 3], "warn": [1, 2, 3], "msg": [1, 2, 3], "2": [1, 2, 3], "get": [1, 2], "daili": [1, 2], "name": [1, 2, 3], "gbmn0": [1, 2], "date": [1, 2, 3], "200510": [1, 2], "data_typ": [1, 2], "ctime": [1, 2], "detector": [1, 2], "n6": [1, 2], "echan": [1, 2], "5": [1, 2, 3], "rebin": [1, 2], "20": [1, 2], "second": [1, 2], "bin": [1, 2, 3], "rebin_data": [1, 2], "min_bin_width": [1, 2], "init": [1, 2, 3], "object": [1, 2, 3], "given": [1, 2, 3], "geom": [1, 2, 3], "4": [1, 2, 3], "drm_gen1": 1, "ebins_in_edg": [1, 2, 3], "geomspac": [1, 2, 3], "10": [1, 2, 3], "2000": [1, 2, 3], "101": [1, 2, 3], "precalcul": [1, 2, 3], "rsp_pre1": 1, "ngrid": [1, 2, 3], "10000": [1, 2, 3], "responsum": [1, 2], "0": [1, 2, 3], "py3": [1, 2], "egg": [1, 2], "108": [1, 2], "runtimewarn": [1, 2], "minimum": [1, 2], "mc": [1, 2], "energi": [1, 2], "larger": [1, 2], "than": [1, 2, 3], "ebound": [1, 2], "307523250579834": [1, 2], "where": [1, 2, 3], "calcul": [1, 2, 3], "effect": [1, 2, 3], "linear": [1, 2, 3], "interpol": [1, 2, 3], "between": [1, 2, 3], "interp_tim": [1, 2, 3], "linspac": [1, 2, 3], "time_bin": [1, 2, 3], "800": [1, 2], "galact": [1, 2, 3], "center": [1, 2, 3], "gc_rsp": [1, 2, 3], "resp_prec": [1, 2, 3], "earth": [1, 2, 3], "albedo": [1, 2, 3], "earth_rsp": [1, 2, 3], "cgb": [1, 2, 3], "cgb_rsp": [1, 2, 3], "6": [1, 2, 3], "crab": [1, 2, 3], "crab_rsp": [1, 2, 3], "response_gener": [1, 2, 3], "ra": [1, 2, 3], "83": [1, 2, 3], "633": [1, 2, 3], "dec": [1, 2, 3], "22": [1, 2, 3], "015": [1, 2, 3], "we": [1, 2], "defin": [1, 2], "spectra": 1, "combin": 1, "thi": [1, 2, 3], "differ": [1, 2], "7": [1, 2, 3], "A": [1, 2, 3], "spectrum": [1, 2, 3], "pl_crab": [1, 2, 3], "k": [1, 2, 3], "valu": [1, 2, 3], "index": [1, 2, 3], "earth_spec": [1, 3], "alpha": [1, 2, 3], "beta": [1, 2, 3], "72": [1, 3], "xb": [1, 2, 3], "33": [1, 3], "cgb_spec": [1, 2, 3], "11": [1, 2, 3], "32": [1, 2, 3], "88": [1, 2, 3], "30": [1, 2, 3], "gc": [1, 3], "pl1_gc": [1, 3], "08737610581967094": [1, 3], "45": [1, 3], "pl2_gc": [1, 3], "252": [1, 3], "3829377920772": [1, 3], "exp_gc": [1, 3], "1036025649336684": [1, 3], "xc": [1, 2, 3], "8": [1, 2, 3], "total": [1, 2, 3], "de": 1, "excit": [1, 3], "after": [1, 2], "transit": 1, "simpl": [1, 2, 3], "exponenti": 1, "decai": [1, 2], "But": 1, "channel": [1, 2], "have": [1, 2, 3], "info": 1, "how": [1, 2, 3], "therefor": [1, 2, 3], "everi": [1, 2, 3], "independ": [1, 2], "assign": 1, "exp_decai": [1, 2, 3], "1000": [1, 2, 3], "5000": [1, 2], "afv_saa": [1, 2, 3], "num_echan": [1, 2, 3], "base_funct": [1, 2, 3], "exit_time_saa": [1, 2, 3], "mean_tim": [1, 2], "100": [1, 2, 3], "becaus": [1, 2, 3], "don": 1, "t": [1, 3], "charg": [1, 2], "particl": [1, 2], "can": [1, 2, 3], "forward": [1, 2], "fold": [1, 2], "signal": 1, "incom": [1, 2], "reli": 1, "good": [1, 2], "tracer": [1, 2, 3], "For": [1, 2, 3], "exampl": [1, 2, 3], "mcilwain": [1, 2], "l": [1, 2], "paramet": [1, 2], "seem": 1, "decent": 1, "variabl": 1, "onli": [1, 2], "normal": [1, 2], "per": 1, "c": [1, 2, 3], "afv_cr": [1, 2, 3], "cr": [1, 2, 3], "cr_tracer": [1, 2, 3], "add_sourc": [1, 2, 3], "ax": [1, 2, 3], "eff_echan": [1, 2, 3], "model_component_list": [1, 2, 3], "model_component_color": [1, 2, 3], "navi": [1, 2, 3], "purpl": [1, 2, 3], "legend": [1, 3], "lt": 1, "0x7fd6dc5f34c0": 1, "gt": [1, 2], "import": 2, "contain": 2, "observ": 2, "count": [2, 3], "individu": [2, 3], "It": 2, "new": [2, 3], "longer": 2, "scatter": 2, "": [2, 3], "ylabel": 2, "xlabel": 2, "transform": 2, "posit": [2, 3], "icr": [2, 3], "coord": 2, "satellit": 2, "coordin": [2, 3], "system": [2, 3], "az": [2, 3], "el": 2, "opposit": 2, "ani": [2, 3], "need": 2, "method": 2, "return": [2, 3], "occult": [2, 3], "frame": [2, 3], "round": 2, "50": [2, 3], "150": 2, "200": 2, "250": 2, "icrs_to_satellit": [2, 3], "e": 2, "r": 2, "d": 2, "zip": 2, "print": 2, "f": 2, "356": 2, "87197857243024": 2, "21": 2, "23785882753735": 2, "44": 2, "47341520675653": 2, "3454518134180518": 2, "90": [2, 3], "85021846482132": 2, "18": 2, "03688027053613": 2, "144": 2, "45989469628742": 2, "26": 2, "038559910551513": 2, "196": 2, "78964907441872": 2, "14": [2, 3], "756252285976089": 2, "check": 2, "some": [2, 3], "point": [2, 3], "ar": [2, 3], "certain": 2, "occ": 2, "is_occult": [2, 3], "o": 2, "els": 2, "610763637": 2, "drm_gen": [2, 3], "test": 2, "mat": 2, "calc_response_ra_dec": 2, "eff": 2, "area": 2, "detect": 2, "xscale": 2, "log": 2, "kev": 2, "cm2": 2, "extend": [2, 3], "sourc": [2, 3], "pre": 2, "spheric": 2, "around": 2, "These": 2, "weight": 2, "later": 2, "account": 2, "spatial": 2, "In": [2, 3], "take": 2, "rsp_pre": [2, 3], "few": [2, 3], "response_grid": 2, "500": 2, "12": [2, 3], "here": [2, 3], "first": [2, 3], "construct": 2, "contribut": 2, "split": 2, "two": 2, "class": 2, "photonsourc": 2, "through": 2, "veri": [2, 3], "lack": 2, "similar": 2, "directli": [2, 3], "space": 2, "let": [2, 3], "start": [2, 3], "photon": 2, "kind": 2, "photonsourcefre": 2, "want": 2, "free": 2, "spectral": 2, "keep": 2, "while": 2, "fix": 2, "framework": 2, "13": [2, 3], "taken": 2, "ajello": 2, "et": 2, "al": 2, "2008": 2, "set": 2, "what": 2, "would": 2, "look": 2, "like": [2, 3], "our": 2, "set_time_bin": 2, "get_count": 2, "next": [2, 3], "cosmic": 2, "rai": 2, "saa": [2, 3], "exponeti": 2, "connect": 2, "wrapper": 2, "just": [2, 3], "copi": 2, "15": [2, 3], "log_uniform_prior": 2, "uniform_prior": 2, "prior": 2, "lower_bound": 2, "001": 2, "upper_bound": 2, "when": 2, "leav": 2, "afv_con": 2, "def": [2, 3], "x": 2, "ones_lik": 2, "con": 2, "again": 2, "now": 2, "creat": 2, "against": 2, "log_lik": 2, "17": 2, "standard": 2, "algorithm": 2, "multinest": 2, "via": 2, "interfac": 2, "pymultinest": 2, "As": 2, "do": [2, 3], "bayesian": 2, "analysi": [2, 3], "were": 2, "alreadi": [2, 3], "fit_model": 2, "one": 2, "line": 2, "which": [2, 3], "specifi": 2, "file": [2, 3], "number": 2, "live": 2, "19": 2, "minimize_multinest": 2, "identifi": 2, "test_fit": 2, "n_live_point": 2, "400": 2, "verbos": 2, "v3": 2, "copyright": 2, "farhan": 2, "feroz": 2, "amp": 2, "mike": 2, "hobson": 2, "releas": 2, "nov": 2, "2019": 2, "dimension": 2, "mode": 2, "converg": 2, "toward": 2, "edg": 2, "analys": 2, "home": 2, "runner": 2, "mn_out": 2, "test_fit_05": 2, "12_11": 2, "57": 2, "fit_": 2, "txt": 2, "ln": 2, "ev": 2, "530402731": 2, "14333856": 2, "70711801955439468": 2, "likelihood": 2, "evalu": 2, "208479": 2, "sampl": 2, "finish": 2, "exit": 2, "show_data": [2, 3], "red": [2, 3], "magenta": 2, "green": 2, "Not": 2, "simplic": [2, 3], "did": 2, "still": 2, "got": 2, "overal": 2, "level": 2, "respons": 3, "about": 3, "data": 3, "geometri": 3, "orbit": 3, "mock": 3, "write": 3, "responsegener": 3, "inherit": 3, "base": 3, "model": 3, "assum": 3, "know": 3, "read": 3, "newsatdata": 3, "__init__": 3, "self": 3, "super": 3, "Its": 3, "alwai": 3, "align": 3, "degre": 3, "found": 3, "univers": 3, "squar": 3, "sinu": 3, "newsatgeometri": 3, "sin": 3, "satellite_to_icr": 3, "try": 3, "re": 3, "zero": 3, "len": 3, "dtype": 3, "bool": 3, "except": 3, "typeerror": 3, "out": 3, "interest": 3, "randomli": 3, "chang": 3, "scale": 3, "ab": 3, "zen": 3, "newsatresponsegener": 3, "_num_echan": 3, "_mat": 3, "random": 3, "rand": 3, "calc_response_az_zen": 3, "follow": 3, "same": 3, "skip": 3, "time_bin_edg": 3, "arrai": 3, "randint": 3, "size": 3, "dummi": 3, "80": 3, "39": 3, "sum": 3, "compon": 3, "show_total_model": 3}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"welcom": 0, "gbmbkgpy": 0, "": 0, "document": 0, "setup": 1, "gbm": 1, "import": [1, 3], "data": [1, 2], "geometri": [1, 2], "respons": [1, 2], "extend": 1, "sourc": 1, "point": 1, "model": [1, 2], "photon": 1, "saa": 1, "cosmic": 1, "rai": 1, "creat": 1, "plot": [1, 2, 3], "fit": 2, "appli": 3, "other": 3, "satellit": 3, "defin": 3, "class": 3, "we": 3, "need": 3, "our": 3, "newli": 3, "develop": 3, "run": 3, "gener": 3, "code": 3}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 57}, "alltitles": {"Welcome to gbmbkgpy\u2019s documentation!": [[0, "welcome-to-gbmbkgpy-s-documentation"]], "Setup for GBM": [[1, "Setup-for-GBM"]], "Imports": [[1, "Imports"], [3, "Imports"]], "DATA": [[1, "DATA"]], "GEOMETRY": [[1, "GEOMETRY"]], "Response": [[1, "Response"], [2, "Response"]], "Responses for extended sources": [[1, "Responses-for-extended-sources"]], "Response for point source": [[1, "Response-for-point-source"]], "Modelling": [[1, "Modelling"], [2, "Modelling"]], "Photon sources": [[1, "Photon-sources"]], "SAA": [[1, "SAA"]], "Cosmic Rays": [[1, "Cosmic-Rays"]], "Create Model": [[1, "Create-Model"]], "Plot": [[1, "Plot"], [3, "Plot"]], "Data": [[2, "Data"]], "Geometry": [[2, "Geometry"]], "Fitting": [[2, "Fitting"]], "Plotting": [[2, "Plotting"]], "Apply to other satellites": [[3, "Apply-to-other-satellites"]], "Define the Classes we need for our newly developed satellite": [[3, "Define-the-Classes-we-need-for-our-newly-developed-satellite"]], "Run General Code": [[3, "Run-General-Code"]]}, "indexentries": {}})